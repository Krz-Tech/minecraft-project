ファイル：`Docs/1.Development/1.Dev_Coder.md`
更新日時：`2026/01/03`

# Coder開発環境
本プロジェクトで使用するCoder開発環境についての規約です。

## 1. Coderとは
* セルフホスト型のクラウドIDEです。
* 本プロジェクトでは[Krz-Tech Coder](https://coder.krz-tech.net)を使用します。
* 以後**Coder環境**と呼称します。

## 2. ワークスペース
* Krz-TechのOrganizationに加入しているGithubアカウントでログイン可能です。
* [テンプレート](https://coder.krz-tech.net/templates/mc-develop-container/workspace)からワークスペースを作成してください。
* 作成時、必要なリポジトリは自動クローンされます。

## 3. 開発サーバー管理
`minecraft-project-workspace`ディレクトリで以下のコマンドを使用します。

| コマンド | 内容 |
|:---|:---|
| `./mc setup` | 初回セットアップを実行 |
| `./mc start` | 開発サーバーを起動し、ポートフォワード（25565）を開始 |
| `./mc stop` | 開発サーバーおよびポートフォワードを停止 |
| `./mc attach` | 開発サーバーのコンソール（screen）にアタッチ |
| `./mc send <cmd>` | Minecraftサーバーにコマンドを送信（エージェント向け） |
| `./mc status` | サーバーの状態を確認 |

> 詳細仕様は [1.Dev_McScript.md](1.Dev_McScript.md) を参照してください。

## 4. 開発サーバーについて
* PaperMC 1.21.4のMinecraftサーバーを**開発サーバー**と呼称します。
* Skript開発、プラグイン設定調整、サーバーチューニングに使用します。
* ポートフォワードにより`localhost`から接続可能です。
* 外部からの直接接続は不可です。

### オフラインモード
* 複数クライアントテストが必要な場合、`server.properties`の`online-mode`を`false`に変更してください。
* 原則としてオンラインモードでの運用を推奨します。

## 5. Skript開発ルール
開発サーバーでSkript開発を行う際は以下を厳守してください。

* コード変更後は`./mc attach s`でコンソールにアタッチし、`sk reload <ファイル名>`を実行
* 構文エラーは可能な限り自己解決し、困難な場合のみ報告
* `Docs/1.Development/1.Dev_Skript.md`のコーディング規約に従う
* 不明点がある場合は憶測で進めず、必ずユーザーに質問
* 必要なアドオン・プラグイン・MCPツールがあれば積極的に提案