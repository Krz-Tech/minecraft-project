ファイル：`Docs/2.GameSystem/2.Game_Battle/Playground.md`
更新日時：`2026/01/02`

# プレイグラウンド

本ドキュメントでは、ゲームの中核コンテンツである「プレイグラウンド」の詳細仕様を定義します。プレイグラウンドはExtraction RPGの舞台となる異質な次元です。

## 1. 概要

### 基本情報

| 項目 | 内容 |
|:---|:---|
| **分類** | 中間ディメンション（オーバーワールド/ネザー/エンドの狭間） |
| **正体** | 忘れ去られたスナップショット—バグまみれのまま放棄された空間 |
| **状態** | 敵対モブが存在する危険地帯 |
| **ビジュアル** | 旧Minecraftリソースパック（プログラマーアート等） |

### コンセプト

プレイグラウンドは、Minecraftの開発過程で生まれた「バグまみれのスナップショット」がそのまま忘れ去られ、次元の狭間に取り残された空間である。

The Peaceful Updateの影響を受けなかったこの空間では、敵対モブが依然として存在し、クラフターにとって唯一の「本当の冒険」ができる場所となっている。

## 2. 特徴

### Minecraftであり、Minecraftではない

* 基本的なゲームルールはMinecraftに準拠
* しかし旧バージョンのビジュアル・挙動が混在
* プレイヤーに「異質さ」「違和感」を与える設計

### 敵対モブの存在

* オーバーワールドで友好化したモブが、ここでは敵対状態
* PvPvE環境—モブとの戦闘、他プレイヤーとの競争・戦闘
* 緊張感のある探索体験

### 限定アイテム

* プレイグラウンドでのみ入手可能な特殊アイテムが存在
* オーバーワールドでは入手不可能なため希少価値が高い
* 高値で売却可能

## 3. アクセス方法

### 侵入

| 項目 | 内容 |
|:---|:---|
| **入口** | 古代都市に設置されたポータル |
| **アクセス経路** | ギルド本部 → 地下 → 古代都市 → ポータル |
| **技術** | 古代都市の技術を応用した不安定なポータル |
| **制限** | Delta Guildメンバーのみ（エンダーコンパス必須） |

### 地理的構造

```
地上: オーバーワールド中心都市
  └─ Delta Guild本部
      ↓（地下へ降下）
地下: 古代都市（ディープダーク）
  └─ プレイグラウンドポータル
      ↓（転送）
異次元: プレイグラウンド
```

### ポータルの特性

* **座標制御不能**: テレポート先の座標はランダム
* **片道**: プレイグラウンド側にポータルは出現しない
* **不安定**: 古代都市の技術を使用しているが完全ではない
* **ギルド管理**: Delta Guildが管理、メンバーのみアクセス可能

## 4. 帰還システム

### 概要

プレイグラウンドからの帰還は自力では不可能。Delta Guildの救助チーム（ファントム）による救助を待つ必要がある。

詳細は [DeltaGuild.md](../2.Game_Core/DeltaGuild.md) を参照。

### 救出バイオーム選択システム

クラフターはプレイグラウンド突入前の準備画面で「救出バイオーム」を選択する。

#### 選択肢の構成

| 枠 | 内容 | 出現確率 |
|:---:|:---|:---|
| **1** | 簡単バイオーム | 常に簡単 |
| **2** | 簡単バイオーム | 常に簡単 |
| **3** | 簡単 or レア | 70% 簡単 / 30% レア |

#### バイオーム分類

| 分類 | バイオーム例 |
|:---|:---|
| **簡単** | 平原、森林、砂漠、タイガ、サバンナ |
| **レア** | キノコ島、ジャングル、メサ、氷樹、桜 |

#### レアバイオーム報酬

レアバイオームを選択し救出が完了した場合、ギルドから追加報酬を受け取れる。

| 報酬種別 | 付与方式 |
|:---|:---|
| **Δコイン** | 固定追加 |
| **ランク経験値** | 固定追加 |
| **限定アイテム** | 確率ドロップ |

#### バイオーム特化素材

各バイオームには特有の素材が存在し、それぞれの能力を持った装備・武器・ツールを作成できる。

| バイオーム | 特化素材（例） | 装備特性（例） |
|:---|:---|:---|
| キノコ島 | 菌糸核 | 毒耐性・回復強化 |
| ジャングル | 密林樹脂 | 移動速度・跳躍強化 |
| メサ | 赤土結晶 | 採掘効率・耐久強化 |
| 氷樹 | 凍結エッセンス | 凍結付与・耐寒 |

※ ギルドから割り当てられるクエストにも特定バイオームの探索が含まれる場合がある。

### 帰還条件

ファントムによる救助が可能になるには、以下のいずれかの条件を満たす必要がある：

| 条件 | 値 | 備考 |
|:---|:---|:---|
| **時間経過** | 10分 | Minecraft半日相当 |
| **移動距離** | 1000ブロック | 探索込みで10〜15分程度 |

※ 条件タイプは **OR**（どちらかを満たせば救出可能）

#### 設計意図

* 帰還条件を緩くしても、クラフターは素材・換金アイテム収集のため長時間探索するインセンティブがある
* 「待機戦略」は可能だが得るものがないため、自然と損をする設計
* 報酬設計で探索を促進する方が健全

### 救出条件

帰還条件を満たした上で、以下の条件を満たすと救出される：

| 条件 | 内容 |
|:---|:---|
| **場所** | 選択した救出バイオームに到達 |
| **時間帯** | 夜間のみ（ファントムは日光で燃えるため） |

### エンダーコンパス

クラフターはプレイグラウンド侵入時に「エンダーコンパス」を携帯する。

| 項目 | 内容 |
|:---|:---|
| **機能** | 救出バイオームの方角を常に指す |
| **表示** | アクションバーにバイオーム名・距離を表示 |
| **用途** | 救出地点へのナビゲーション |
| **開発** | Delta Guild + エンドの共同研究 |

#### 技術実装

Skriptの `compass target of player` を使用し、プレイヤーごとにコンパスのターゲット座標を設定する。リスポーン地点は変更されない。

```
突入時処理:
1. 選択された救出バイオームの座標を取得
2. set compass target of player to {救出座標}
3. アクションバーに情報表示開始
```

### 帰還手順

1. 突入前の準備画面で救出バイオームを選択
2. エンダーコンパスを持ってプレイグラウンドに侵入
3. 探索を行いながら条件（時間経過 or 移動距離）を満たす
4. エンダーコンパスに従い救出バイオームへ移動
5. 夜間に救出バイオームに到達
6. ファントムによる救助、オーバーワールドへ帰還

### 救助チームについて

* Delta Guild所属の救助専門チーム
* ファントムが主な救助要員（飛行能力を活かした広域捜索）
* 夜間のみ活動可能（日光で燃えるため）
* エンダーコンパスの信号を元にクラフターを特定
* プレイグラウンドに生息する敵対ファントムとは別個体

## 5. 死亡時のペナルティ（Extraction要素）

### ロスト対象

| 項目 | ロスト |
|:---|:---|
| **獲得アイテム** | 全てロスト |
| **持ち込みアイテム** | ロストしない |
| **ランク経験値** | 一部ロスト |

### 設計意図

* タルコフの「持ち込みロスト」によるストレス要素を排除
* 獲得物のロストによる緊張感は維持
* リスクとリターンのバランスを重視

## 6. 技術実装

### サーバー構成

* プレイグラウンドは独立したサーバーとして隔離
* リソースパックの分離により旧ビジュアルを実現
* 詳細は [0.Sys_Deployment.md](../../0.System/0.Sys_Deployment.md) を参照

### マップ生成

* 基本はバニラの生成アルゴリズムを使用
* 必要に応じてデータパックで微調整可能
  * バイオーム配置・頻度
  * 構造物の出現率
  * 地形の高低差・洞窟生成
  * 鉱石分布
* 高度なカスタマイズが必要な場合は [Terra](https://modrinth.com/plugin/terra) プラグインも選択肢

### リソースパック

* プレイグラウンド専用の旧Minecraftリソースパック
* プログラマーアート等を使用
* オーバーワールドとの視覚的差別化

## 7. 未定義項目

以下の項目は今後の設計で詳細を決定する：

* PvP関連のルール・制限
* 限定アイテムの種類・入手方法（バイオーム特化素材の詳細）
* ファントム救助の演出・UI
* レアバイオーム追加報酬の具体的な数値（Δコイン量、経験値量、ドロップ率）
* ギルドクエストとの連携詳細

## 8. 参照ドキュメント

* [WorldView.md](../2.Game_Core/WorldView.md) - 世界観設定
* [DeltaGuild.md](../2.Game_Core/DeltaGuild.md) - Delta Guild詳細
* [BattleStyle.md](./BattleStyle.md) - 戦闘システム
* [Currency.md](../2.Game_Economy/Currency.md) - 通貨システム
