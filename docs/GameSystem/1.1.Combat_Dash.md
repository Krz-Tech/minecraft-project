# 高速機動システム：ダッシュ (High-Speed Mobility: Dash)

## 概要
Tech::Playgroundの機動力の核となるシステムです。
バニラの移動を拡張し、**「アサルトダッシュ (巡航)」** と **「クイックブースト (回避・急加速)」** の2種類を定義します。

---

## 1. アサルトダッシュ (Assault Dash / AD)
長距離の移動や、敵への急速接近に使用する「巡航モード」です。

### 仕様 (Specifications)
*   **発動条件**: 通常ダッシュ状態を **1.5秒間** 継続する。
*   **コスト**: 継続的に **EN** を消費 (例: 5 EN/sec)。
*   **効果**:
    *   **移動速度**: 通常ダッシュの 1.5倍〜2.0倍 (SuitのMOB値に依存)。
    *   **視野角 (FOV)**: わずかに拡大し、スピード感を演出。
    *   **スタッガー耐性**: 蓄積値がわずかに軽減される（勢いで耐える）。
*   **解除条件**: 停止、ジャンプ、EN枯渇、または攻撃（近接・射撃）の開始。

### 演出 (VFX/SFX)
*   **VFX**: 背中から `ELECTRIC_SPARK` または `CLOUD` パーティクルが後方へ噴射される。
*   **SFX**: 発動時に「キィィィィン」という高周波の駆動音。走行中に低いジェット音。

---

## 2. クイックブースト (Quick Boost / QB)
瞬間的な加速による回避や、急激な間合い詰めを行う「バースト移動」です。

### 仕様 (Specifications)
*   **発動条件**: **「スニークキー (Shift)」** を短く入力（ダッシュ中または空中）。
*   **コスト**: 一定量の **EN** を即座に消費 (例: 15〜20 EN / 1回)。
*   **効果**:
    *   **挙動**: 入力方向（または視線方向）へ強力なベクトル加算。
    *   **無敵時間**: 存在しない（バニラの戦闘バランスを尊重）が、被弾判定が極端に縮小する、または回避性能が大幅に向上する。
*   **クールダウン**: 約0.5秒（連続使用による「浮遊」や「超高速移動」の防止）。

### 演出 (VFX/SFX)
*   **VFX**: 進行方向の逆に爆発的なパーティクル (`FLASH` / `SMOKE`) を発生させる。
*   **SFX**: 「ドォォン！」という重厚な爆発音。

---

## 3. ステータスによる変化 (Stat Scaling)

ダッシュ性能は装備している **Tech Suit** および **Accessory** によって変化します。

| パラメータ | 影響するステータス | 説明 |
|-----------|------------------|------|
| **AD最大速度** | MOB (Suit) | スーツの基本機動力。 |
| **AD消費効率** | Energy (Skill) | スキルレベルが高いほど消費が減り、長く走れる。 |
| **QB推力** | MOB (Suit) | 軽量スーツほど一瞬の加速が鋭い。 |
| **EN回復速度** | Generator (Acc) | 回復速度が速いと、QBを頻繁に使えるようになる。 |

---

## 4. 技術メモ (Technical Notes)

*   **速度制御**: Skriptの `set player's walk speed` ではなく、`push player direction ...` を使用して物理的なスピード感を出す。
*   **EN管理**: `on join` 時に `{-sys::player::%uuid%::en_task}` ループを開始し、tick単位でENの消費・回復を計算する。
*   **空中ダッシュ**: 空中でも QB は使用可能だが、EN消費を 1.5倍 にするなどの制限を検討。

---

*最終更新: 2025-12-23*
