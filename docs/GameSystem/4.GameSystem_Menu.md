# メインメニュー仕様 (Main Menu Specification)

## 概要
プレイヤーがサーバーの主要機能に素早くアクセスするための統合メニューです。

### 開き方
*   **コマンド**: `/menu`
*   **アイテム**: **棒 (Stick)** を右クリック

---

## メニュー構成 (Hierarchy)

```
📋 メインメニュー (54スロット / 6段)
├── 👤 プロフィール
│   ├── ステータス確認
│   ├── ランク情報
│   └── スキルレベル一覧
├── 🎒 装備管理
│   ├── 現在の装備 (Suit/Weapon/Accessory)
│   └── 装備変更 (インベントリから選択)
├── ⚔️ プレイグラウンド
│   ├── 出撃準備 (持ち込み確認)
│   ├── 出撃実行
│   └── 戦績確認
├── 🏠 拠点
│   ├── 拠点にテレポート
│   └── 区画情報
├── 💰 経済
│   ├── 残高確認
│   ├── 取引履歴
│   └── 建材ショップ (サブメニュー)
├── ⚙️ 設定
│   ├── PvPトグル
│   ├── チャット設定
│   └── サウンド設定
└── ❌ 閉じる
```

---

## 詳細設計

### 1. メインメニュー (トップ階層)

| スロット | アイコン | 名称 | 機能 |
|---------|---------|------|------|
| 11 | プレイヤーヘッド | **プロフィール** | ステータス・ランク確認画面へ |
| 13 | ダイヤモンドチェストプレート | **装備管理** | 装備変更画面へ |
| 15 | 鉄の剣 | **プレイグラウンド** | 出撃準備・戦績画面へ |
| 29 | オークのドア | **拠点** | 拠点テレポート・管理画面へ |
| 31 | 金インゴット | **経済** | 残高・取引・ショップ画面へ |
| 33 | レッドストーン | **設定** | 各種設定画面へ |
| 49 | バリアブロック | **閉じる** | メニューを閉じる |

*   **レイアウト**: 上段に主要機能、中段にサブ機能。
*   **背景**: 灰色ガラス板で埋める（UXガイドライン準拠）。

---

### 2. プロフィール画面

| 項目 | 表示内容 |
|------|---------|
| **ランク** | 現在のランク (F〜SSS) と経験値バー |
| **AP/EN** | 最大値と現在値 |
| **所持金** | Δコイン残高 |
| **戦闘スキル** | CQC / Ballistics / Energy のレベル |
| **生存スキル** | Athletics / Stealth / Medic のレベル |
| **生産スキル** | Crafting / Trading のレベル |

---

### 3. 装備管理画面

| スロット | 内容 |
|---------|------|
| 中央上 | 現在のTech Suit |
| 中央左 | メイン武器 (Right Hand) |
| 中央右 | サブ武器 (Left Hand) |
| 下段 | アクセサリ 1〜5 |

*   アイテムをクリックすると、インベントリから装備可能なアイテム一覧を表示。

---

### 4. プレイグラウンド画面

| 項目 | 機能 |
|------|------|
| **出撃準備** | 持ち込みアイテムの確認・編集 |
| **出撃** | プレイグラウンドへテレポート（確認ダイアログ有り） |
| **戦績** | 総出撃回数、生存率、キル数、獲得Δコイン |

---

### 5. 拠点画面

| 項目 | 機能 |
|------|------|
| **テレポート** | 自分の区画へ即時移動 |
| **区画情報** | 座標、サイズ、権限設定 |

---

### 6. 経済画面

| 項目 | 機能 |
|------|------|
| **残高** | 現在のΔコイン |
| **取引履歴** | 直近10件の入出金ログ |
| **建材ショップ** | 木材・石材等の購入GUI |

---

### 7. 設定画面

| 項目 | 機能 |
|------|------|
| **PvPトグル** | PvPマーク (ハイリスクモード) のON/OFF |
| **チャット** | グローバル/ローカルの切替 |
| **サウンド** | 効果音ボリューム調整 |

---

## 技術メモ

*   **GUI実装**: SkBee の `open virtual inventory` を使用。
*   **データ保存**: プレイヤー設定は `{-kp::%uuid%::settings::*}` に保存。
*   **権限**: 全プレイヤーがアクセス可能 (権限不要)。

---

## 将来実装予定 (Future Features)

> [!NOTE]
> 以下の機能は将来的に実装予定です。現時点では開発対象外とします。

*   **ロードアウト機能**: 装備セットを保存し、ワンクリックで切り替え。
*   **デリバリーポスト確認**: 拠点画面から帰還アイテムを確認・受け取り。
*   **ソーシャル機能**:
    *   フレンドリスト（オンライン/オフライン表示、テレポート申請）
    *   パーティ管理（作成・招待・脱退）
    *   プライベートメッセージ
*   **言語設定**: 日本語 / English 切替

---

*最終更新: 2025-12-23*
