# 戦闘システム：武器リストと強化仕様 (Weapon List & Enhancement)

## 概要
Tech::Playgroundで使用される武器のマスターリストと、バニラアイテムをTech仕様に「変換・強化」する仕組みについて定義します。

---

## 1. 武器カテゴリー別リスト (Weapon Master List)

### 1.1 近接武器 (Melee)
| 武器名 | カテゴリ | 基礎ベース | 特徴 |
|-------|---------|-----------|------|
| **Enhanced Sword** | バニラ強化 | 鉄/ダイヤの剣 | バニラの操作感。攻撃速度が高め。 |
| **Enhanced Axe** | バニラ強化 | 鉄/ダイヤの斧 | 一撃の重さと盾破壊能力。 |
| **Krz-Blade "Shippu"** | 物理ブレード | 新規アイテム | 高い移動速度補正。踏み込み距離が長い。 |
| **Plasma Cutter** | ENブレード | 新規アイテム | 装甲貫通。ENを消費して大ダメージ。 |
| **Solid Bunker** | パイルバンカー | 新規アイテム | 超高衝撃力。移動速度が低下するが攻撃力絶大。 |

### 1.2 射撃武器 (Ranged)
| 武器名 | カテゴリ | 特徴 |
|-------|---------|------|
| **Tactical Handgun** | ハンドガン | 取り回しが良く、AS中の射撃精度が高い。 |
| **Assault Rifle** | ライフル | 中距離の主力。フルオート射撃が可能。 |
| **Anti-Material Rifle** | スナイパー | 遠距離・超低速。スマートエイムのロック距離が長い。 |
| **Impact Launcher** | ランチャー | 範囲攻撃。衝撃力が非常に高く、敵を足止めしやすい。 |

---

## 2. バニラ武器の強化変換システム (Vanilla Conversion)

プレイヤーがバニラのレシピで武器を作成した際、自動的に **「Tech仕様の強化アイテム」** へ変換します。

### 2.1 変換ロジック (Skript)
`on craft` イベントを使用して、成果物を独自アイテムに差し替えます。

```skript
on craft of iron sword or diamond sword:
    # 成果物を「Enhanced Version」に差し替え
    set {_item} to event-item
    set name of {_item} to "&bEnhanced Sword &7(T1)"
    set lore of {_item} to "&7バニラ素材をベースに再構築された標準近接武器。%nl%&f物理ダメージ: +5%nl%&7&o- Standard Tech-Grade -"
    set nbt of {_item} to nbt compound from "{CustomModelData:1001, TechItem:1}"
    
    # プレイヤーに渡す
    set event-item to {_item}
```

### 2.2 強化内容
*   **攻撃力のオフセット**: バニラ値よりも高く設定（Tech SuitのAPに対応するため）。
*   **Custom Model Data**: リソースパックを適用し、見た目をサイバーパンク風に変更。
*   **属性付与**: 衝撃力 (Impact) や重量 (Weight) などの独自数値をNBTに埋め込み。

---

## 3. 武器の入手経路

1.  **クラフト**: 生活ワールドでバニラ素材から「Enhanced」版を作成。
2.  **ショップ購入**: 完成済みの「Krzシリーズ」や「EN武器」をΔコインで購入。
3.  **プレイグラウンド (PG)**: 敵やチェストから現品（または設計図）をドロップ。

---

## 4. 技術メモ

*   **アイテム識別**: 全てのTech武器には `TechItem: 1` などの独自NBTタグを付与し、バニラアイテムとの混同を防ぎます。
*   **耐久値**: `Unbreakable: 1` を設定し、代わりに変数 `{-kp::%uuid%::equip::durability}` 等で独自に管理することを検討（UI表示のため）。

---

*最終更新: 2025-12-23*
