# Garage Helm Values
# https://garagehq.deuxfleurs.fr/documentation/cookbook/kubernetes/

# レプリカ数 (開発: 1, 本番: 3推奨)
replicaCount: 1

# 永続化設定
persistence:
  meta:
    enabled: true
    storageClass: "" # 環境に合わせて設定 (例: local-path, longhorn)
    size: 1Gi
  data:
    enabled: true
    storageClass: ""
    size: 50Gi

# Garage設定
garage:
  # S3 API有効化
  s3Api:
    enabled: true
    regionName: "garage"

  # Web API有効化 (バケット管理用)
  webApi:
    enabled: true

  # 初期設定 (クラスターレイアウトはCLIで設定)
  # garage layout assign ... && garage layout apply

# Service設定
service:
  # S3 API
  s3:
    type: ClusterIP
    port: 3900
  # Web API
  web:
    type: ClusterIP
    port: 3902
  # RPC (内部通信)
  rpc:
    type: ClusterIP
    port: 3901

# リソース制限 (軽量なので最小限)
resources:
  requests:
    cpu: 100m
    memory: 128Mi
  limits:
    cpu: 500m
    memory: 512Mi

# Ingress (内部アクセスのみなので無効)
ingress:
  enabled: false
